"use strict";(self.webpackChunkarc=self.webpackChunkarc||[]).push([[8332],{1164:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"index","title":"Arc Agents","description":"Welcome to Arc Agents, a kotlin based framework for writing AI powered applications.","source":"@site/docs/00-index.md","sourceDirName":".","slug":"/index","permalink":"/arc/docs/index","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","next":{"title":"Agent DSL","permalink":"/arc/docs/dsl/"}}');var r=t(4848),o=t(8453);const i={sidebar_position:1},a="Arc Agents",l={},d=[{value:"Agents",id:"agents",level:2},{value:"Goal and Instructions",id:"goal-and-instructions",level:2},{value:"Knowledge",id:"knowledge",level:2},{value:"Filters",id:"filters",level:2},{value:"Tools",id:"tools",level:2},{value:"Memory",id:"memory",level:2},{value:"Eventing",id:"eventing",level:2},{value:"Implementation Details",id:"implementation-details",level:2},{value:"ChatAgent",id:"chatagent",level:3},{value:"AgentProvider",id:"agentprovider",level:3},{value:"AgentLoader",id:"agentloader",level:3},{value:"Conversations",id:"conversations",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"arc-agents",children:"Arc Agents"})}),"\n",(0,r.jsx)(n.p,{children:"Welcome to Arc Agents, a kotlin based framework for writing AI powered applications."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:t(6167).A+"",width:"803",height:"340"})}),"\n",(0,r.jsx)(n.h2,{id:"agents",children:"Agents"}),"\n",(0,r.jsx)(n.p,{children:"An Arc Agent is a collection of Large Language Model prompts, filters, events,\nreaders and other services that combined can perform a complex task."}),"\n",(0,r.jsx)(n.h2,{id:"goal-and-instructions",children:"Goal and Instructions"}),"\n",(0,r.jsx)(n.p,{children:"Each Agent should have a single goal or task they are designed to complete from which they should not deviate."}),"\n",(0,r.jsx)(n.p,{children:"For example, a joke agent's goal is to tell jokes. It should not be possible to use the joke agent to do anything\nelse, such as, maths homework."}),"\n",(0,r.jsx)(n.p,{children:"Example of instructions for a weather agent:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-md",children:"# Goal\n\nYou are a professional weather agent. You provide weather data to your users.\n"})}),"\n",(0,r.jsx)(n.p,{children:"How an Agent arrives at its goal is defined by the instructions given to it."}),"\n",(0,r.jsx)(n.p,{children:"Example of instructions for a weather agent:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-md",children:"# Instructions\n\n- If the user asks a question that is not related to weather,\n  simply reply I cant help you\n- Be kind and friendly to the user.\n- Inform the user that the weather data is not real-time data.\n- Use the get_weather function to get the weather data.\n"})}),"\n",(0,r.jsx)(n.p,{children:"Both the goal and instructions of an Agent are defined within an Agent's System Prompt."}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"dsl/defining_agents",children:"Defining Agents"})," for more details."]}),"\n",(0,r.jsx)(n.h2,{id:"knowledge",children:"Knowledge"}),"\n",(0,r.jsx)(n.p,{children:"Knowledge or Knowledge Injection refers to supplying Agents with additional information that\nthey require perform their tasks."}),"\n",(0,r.jsx)(n.p,{children:"For example, a Travel Agent may need to know the current Holiday packages that are available."}),"\n",(0,r.jsxs)(n.p,{children:["There are 2 ways to dynamically inject knowledge into an Agent, ",(0,r.jsx)(n.a,{href:"readers",children:"Readers"})," and ",(0,r.jsx)(n.a,{href:"dsl/defining_functions",children:"Functions"}),".\nBoth mechanisms enable Agents to access real-time data."]}),"\n",(0,r.jsx)(n.p,{children:"Static Knowledge can simple be added to the System Prompt of the Agent."}),"\n",(0,r.jsx)(n.h2,{id:"filters",children:"Filters"}),"\n",(0,r.jsx)(n.p,{children:"The purpose of filters is to transform, augment, validate or filter the input and output of Agents."}),"\n",(0,r.jsx)(n.p,{children:"Input filters, for example, can be used to anonymize sensitive data before handing it to the Agent LLM.\nAnd Output filters can be used to detect Hallucinations generated by the Agent LLM."}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"dsl/filters",children:"Filters"})," for more details."]}),"\n",(0,r.jsx)(n.h2,{id:"tools",children:"Tools"}),"\n",(0,r.jsx)(n.p,{children:"Tools enable Agents to access external services and data.\nTools are a powerful way to extend the capabilities of an Agent. Enabling Agents to not only retrieve data,\nbut to also execute real-world actions, such as turning on a light or even booking a flight."}),"\n",(0,r.jsx)(n.p,{children:"For example, a Weather Agent may use a Weather Tool to get the weather data.\nWhereas a Travel Agent may use the Booking Tool to book flights."}),"\n",(0,r.jsxs)(n.p,{children:["Tools are often implemented as Functions. See ",(0,r.jsx)(n.a,{href:"dsl/defining_functions",children:"Functions"})," for more details."]}),"\n",(0,r.jsx)(n.h2,{id:"memory",children:"Memory"}),"\n",(0,r.jsx)(n.p,{children:"Memory is the ability of an Agent to store and retrieve information."}),"\n",(0,r.jsx)(n.p,{children:"There are 2 types of memory:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"LONG_TERM"})," - information stored in long term memory is persistent and can be accessed by the Agent at any time."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SHORT_TERM"})," - information stored in short term memory is only available for the duration of a conversation."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Each information stored in memory is associated with an owner, usually the user defined in the conversation."}),"\n",(0,r.jsx)(n.p,{children:"The Arc Agent Framework declares the following interface for memory:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:"interface Memory {\n\n    /**\n     * Store a value in LONG_TERM memory.\n     * @param owner The owner of the memory. For example, the user id.\n     * @param key The key to store the value under.\n     * @param value The value to store. If null, the value is removed from memory.\n     */\n    fun storeLongTerm(owner: String, key: String, value: Any?)\n\n    /**\n     * Store a value in SHORT_TERM memory.\n     * @param owner The owner of the memory. For example, the user id.\n     * @param key The key to store the value under.\n     * @param value The value to store. If null, the value is removed from memory.\n     * @param sessionId The session id to store the value under.\n     */\n    fun storeShortTerm(owner: String, key: String, value: Any?, sessionId: String)\n\n    /**\n     * Fetch a value from memory.\n     * @param owner The owner of the memory. For example, the user id.\n     * @param key The key to fetch the value for.\n     * @param sessionId The session id to fetch the value for. Only used if the value was stored under SHORT_TERM memory.\n     * @return The value stored under the key, or null if no value is stored.\n     */\n    fun fetch(owner: String, key: String, sessionId: String? = null): Any?\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Each application wanting to use memory must provide an implementation of the ",(0,r.jsx)(n.code,{children:"Memory"})," interface.\nSee the chapter on ",(0,r.jsx)(n.a,{href:"memory",children:"Memory"})," for available implementations."]}),"\n",(0,r.jsx)(n.h2,{id:"eventing",children:"Eventing"}),"\n",(0,r.jsx)(n.p,{children:"Eventing is a great way to decouple communication between different parts of an application."}),"\n",(0,r.jsx)(n.p,{children:"The Arc Agent Framework provides the following interfaces for enabling eventing\nbetween your application and components of the Arc Agent Framework:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:"  /**\n * EventPublisher interface.\n */\nfun interface EventPublisher {\n    fun publish(event: Event)\n}\n\n/**\n * Add EventHandlers to the implementation of this event to receive events.\n */\nfun interface EventListeners {\n    fun add(handler: EventHandler<out Event>)\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Out of the box, components of the Arc Framework will publish various events.\nThe events are useful for monitoring the system."}),"\n",(0,r.jsxs)(n.p,{children:["Custom events can be easily published throughout the Arc Agent DSL using the\n",(0,r.jsx)(n.code,{children:"emit"})," function."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:'  agent {\n    name = "..."\n    description = "..."\n    prompt { "..." }\n    filterInput {\n        emit(MyCustomEvent())\n    }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["See the ",(0,r.jsx)(n.a,{href:"/docs/eventing",children:"Eventing"})," for more details."]}),"\n",(0,r.jsx)(n.h2,{id:"implementation-details",children:"Implementation Details"}),"\n",(0,r.jsx)(n.p,{children:"The following highlights some of the main components that implement the Arc Agent Concept."}),"\n",(0,r.jsx)(n.h3,{id:"chatagent",children:"ChatAgent"}),"\n",(0,r.jsx)(n.p,{children:"The ChatAgent is the main implementation of the Arc Agent interface."}),"\n",(0,r.jsxs)(n.p,{children:["As the name suggests, ",(0,r.jsx)(n.code,{children:"ChatAgent"}),"s are agents that conduct a conversation with the client/user.\nThey take a ",(0,r.jsx)(n.code,{children:"Conversation"})," object as input and\noutputs the ",(0,r.jsx)(n.code,{children:"Conversation"})," containing a new message.\nSee the ",(0,r.jsx)(n.a,{href:"#conversations",children:"Conversations"})," section for more details on conversations."]}),"\n",(0,r.jsx)(n.h3,{id:"agentprovider",children:"AgentProvider"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"AgentProvider"})," provides agents to other components in your application.\nAgents can be loaded from different sources, for example, from\nkotlin scripts or Spring beans. The ",(0,r.jsx)(n.code,{children:"AgentProvider"})," consolidates all\nthese agents loaders in the application.\nTherefore, each application should have at most one ",(0,r.jsx)(n.code,{children:"AgentProvider"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:"fun interface AgentProvider {\n\n    fun getAgents(): List<Agent<*, *>>\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["When using the spring boot starter,\nthe ",(0,r.jsx)(n.code,{children:"CompositeAgentProvider"}),"\nis automatically configured as the default ",(0,r.jsx)(n.code,{children:"AgentProvider"}),".\nThe ",(0,r.jsx)(n.code,{children:"CompositeAgentProvider"})," combines the agents\nof multiple ",(0,r.jsx)(n.code,{children:"AgentLoader"}),"s and any Agents injected directly into the Spring Context."]}),"\n",(0,r.jsx)(n.h3,{id:"agentloader",children:"AgentLoader"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"AgentLoader"}),"s load agents from a specific source. Unlike the ",(0,r.jsx)(n.code,{children:"AgentProvider"}),",\nan application may have multiple ",(0,r.jsx)(n.code,{children:"AgentLoader"}),"s."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:"fun interface AgentLoader {\n\n    fun getAgents(): List<Agent<*, *>>\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The main ",(0,r.jsx)(n.code,{children:"AgentLoader"})," of the Arc Agent Framework is the ",(0,r.jsx)(n.code,{children:"ScriptAgentLoader"}),"\nthat loads agents from Kotlin scripts."]}),"\n",(0,r.jsxs)(n.p,{children:["Agents can also be loaded as Spring Beans. See ",(0,r.jsx)(n.a,{href:"spring/agent-beans",children:"Spring Agent Beans"})]}),"\n",(0,r.jsx)(n.h3,{id:"conversations",children:"Conversations"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"Conversation"})," object represents a conversation between a client and an Arc Agent, such as a ChatAgent.\nIt contains the entire transcript of the conversation, both client and agent messages,\nplus some metadata about the conversation."]}),"\n",(0,r.jsxs)(n.p,{children:["Each ",(0,r.jsx)(n.code,{children:"Conversation"})," object must be associated with a ",(0,r.jsx)(n.code,{children:"User"})," which acts as the owner of the conversation.\nThis to prevent a conversation from being accessed by unauthorized users/clients.\nFurthermore, the ",(0,r.jsx)(n.code,{children:"User"})," id may also be used as a key to store user/client specific data."]}),"\n",(0,r.jsx)(n.p,{children:"Messages are usually be one of 2 types:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"UserMessage"})," - messages sent by the user/client."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AssistantMessage"})," - messages generated by the Agent."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"SystemMessage"}),"s, messages that contain instructions for the Agent, are usually not store in the conversation\ntranscript."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},6167:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/agents-d55e8f2d7bd7c2db697f42c11c9af4b2.svg"},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var s=t(6540);const r={},o=s.createContext(r);function i(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);